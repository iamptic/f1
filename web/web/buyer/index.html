<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Foody ¬∑ –í–∏—Ç—Ä–∏–Ω–∞</title>
  <link rel="stylesheet" href="./style.css?v=r4" />
  <script>
    window.foodyApi = (window.__FOODY__ && window.__FOODY__.FOODY_API) || 'https://foodyback-production.up.railway.app';
  </script>
</head>
<body>
  <header class="site-header">
    <div class="wrap">
      <div class="brand">üçΩÔ∏è Foody</div>
      <div class="controls">
        <div id="catChips" class="chips" role="tablist" aria-label="–ö–∞—Ç–µ–≥–æ—Ä–∏–∏">
          <button class="chip active" data-cat="">–í—Å–µ</button>
          <button class="chip" data-cat="ready_meal">–ì–æ—Ç–æ–≤—ã–µ –±–ª—é–¥–∞</button>
          <button class="chip" data-cat="bakery">–í—ã–ø–µ—á–∫–∞</button>
          <button class="chip" data-cat="rolls">–†–æ–ª–ª—ã</button>
          <button class="chip" data-cat="sushi">–°—É—à–∏</button>
          <button class="chip" data-cat="salad">–°–∞–ª–∞—Ç—ã</button>
          <button class="chip" data-cat="dessert">–î–µ—Å–µ—Ä—Ç—ã</button>
          <button class="chip" data-cat="other">–î—Ä—É–≥–æ–µ</button>
        </div>
        <select id="sort" class="nice-select" aria-label="–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞">
          <option value="soon">–ü–æ —Å—Ä–æ–∫—É (—Ä–∞–Ω—å—à–µ –∏—Å—Ç–µ–∫–∞—é—Ç)</option>
          <option value="discount">–ü–æ —Å–∫–∏–¥–∫–µ (–±–æ–ª—å—à–µ ‚Üí –≤—ã—à–µ)</option>
          <option value="price_asc">–¶–µ–Ω–∞ (–¥–µ—à–µ–≤–ª–µ ‚Üí –≤—ã—à–µ)</option>
          <option value="price_desc">–¶–µ–Ω–∞ (–¥–æ—Ä–æ–∂–µ ‚Üí –≤—ã—à–µ)</option>
        </select>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div id="offers" class="offer-grid">
      <div class="skeleton"></div>
      <div class="skeleton"></div>
      <div class="skeleton"></div>
    </div>
  </main>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –æ—Ñ—Ñ–µ—Ä–∞ -->
  <div id="offerModal" class="modal" aria-hidden="true">
    <div class="modal-dim" data-close></div>
    <div class="modal-card">
      <button class="modal-close" data-close aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      <div class="offer-modal__img" id="m_img"></div>
      <div class="offer-modal__body">
        <h3 id="m_title" class="offer-modal__title"></h3>
        <div id="m_desc" class="offer-modal__desc"></div>

        <div class="price">
          <span id="m_price_now" class="now">‚Äî</span>
          <span id="m_price_old" class="old" style="display:none">‚Äî</span>
          <span id="m_badge" class="badge" style="display:none"></span>
        </div>

        <div class="contact">
          <div class="contact-row">
            <span class="lbl">–†–µ—Å—Ç–æ—Ä–∞–Ω</span>
            <span id="m_rest" class="val">‚Äî</span>
          </div>
          <div class="contact-row">
            <span class="lbl">–ê–¥—Ä–µ—Å</span>
            <span id="m_addr" class="val">‚Äî</span>
          </div>
          <div class="contact-row">
            <span class="lbl">–¢–µ–ª–µ—Ñ–æ–Ω</span>
            <a id="m_phone" class="val" href="#">‚Äî</a>
          </div>
          <div class="contact-row" id="m_until_wrap">
            <span class="lbl">–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ</span>
            <span id="m_until" class="val">‚Äî</span>
          </div>
        </div>

        <div class="reserve">
          <label class="qty">
            <span>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</span>
            <div class="qtybox">
              <button type="button" class="qbtn" data-qty="-1">‚Äì</button>
              <input id="m_qty" type="number" min="1" step="1" value="1" />
              <button type="button" class="qbtn" data-qty="+1">+</button>
            </div>
            <span class="qty-left" id="m_left"></span>
          </label>
          <label>–í–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω
            <input id="m_user_phone" type="tel" placeholder="+7 900 000 00 00" inputmode="tel" autocomplete="tel">
          </label>
          <button id="m_reserve" class="btn btn-primary">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
          <div id="m_err" class="form-error" style="display:none"></div>
        </div>

        <div id="qr_wrap" class="qr" style="display:none">
          <div class="qr-title">–í–∞—à QR-–∫–æ–¥ –±—Ä–æ–Ω–∏</div>
          <canvas id="qr_canvas" width="240" height="240"></canvas>
          <div class="qr-code" id="qr_code_text"></div>
          <div class="qr-hint">–ü–æ–∫–∞–∂–∏—Ç–µ QR –Ω–∞ –∫–∞—Å—Å–µ. –ö–æ–¥ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ñ—Ñ–µ—Ä–∞.</div>
        </div>
      </div>
    </div>
  </div>

  <div id="toast"></div>

  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js" defer></script>
  <script src="./app.js?v=r4" defer></script>
</body>
</html>
